{"version":3,"file":"../StarSystem.js","sourceRoot":"../../src","sources":["StarSystem.coffee"],"names":[],"mappings":"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","sourcesContent":["BaseStarSystem = require('parallelio').StarSystem\nDisplay = require('./Display')\n\nmodule.exports = class StarSystem extends BaseStarSystem\n  @extend Display\n\n\n  @properties\n    displayX:\n      calcul: (invalidator) ->\n        invalidator.prop('x')\n    displayY:\n      calcul: (invalidator) ->\n        invalidator.prop('y')\n\n  init: ->\n    @baseCls = 'star'\n    super()\n\n  draw: (map, context)-> \n    context.beginPath();\n    context.lineWidth = 1.5\n    context.strokeStyle = \"#336\"\n    context.arc(@x-map.boundaries.left+map.starMargin, @y-map.boundaries.top+map.starMargin, map.starMargin, 0, 2 * Math.PI);\n    context.stroke();\n\n\n    @links.forEach (link)=>\n      if link.star1 == this\n        link.draw?(map, context)\n\nclass StarSystem.Link extends BaseStarSystem.Link\n  draw: (map, context)-> \n    xDist = @star2.x - @star1.x\n    yDist = @star2.y - @star1.y\n    dist = Math.sqrt((xDist*xDist)+(yDist*yDist))\n    x1 = @star1.x + map.starMargin * xDist/dist - map.boundaries.left+map.starMargin\n    y1 = @star1.y + map.starMargin * yDist/dist - map.boundaries.top+map.starMargin\n    x2 = @star2.x - map.starMargin * xDist/dist - map.boundaries.left+map.starMargin\n    y2 = @star2.y - map.starMargin * yDist/dist - map.boundaries.top+map.starMargin\n\n    context.beginPath();\n    context.lineWidth = 1\n    context.strokeStyle = \"#336\"\n    context.moveTo(x1, y1)\n    context.lineTo(x2, y2)\n    context.stroke();\n\n\n"]}