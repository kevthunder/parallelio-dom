{"version":3,"file":"../Updater.js","sourceRoot":"../../src","sources":["Updater.coffee"],"names":[],"mappings":"AAAA,IAAA,WAAA,EAAA;;AAAA,WAAA,GAAc,OAAA,CAAQ,YAAR,CAAqB,CAAC,KAAK,CAAC;;AAE1C,MAAM,CAAC,OAAP,GAAuB,UAAN,MAAA,QAAA,QAAsB,YAAtB;EACf,WAAa,CAAA,CAAA;SACX,CAAA;IACA,IAAC,CAAA,cAAD,GAAkB,CAAA,CAAA,GAAA;aAAG,IAAC,CAAA,MAAD,CAAA;IAAH;IAClB,IAAC,CAAA,MAAD,GAAU;EAHC;;EAKb,MAAQ,CAAA,CAAA;SAAR,CAAA,MACE,CAAA;IACA,IAAC,CAAA,MAAD,GAAU;IACV,IAAG,IAAC,CAAA,SAAS,CAAC,MAAX,GAAoB,CAAvB;aACE,IAAC,CAAA,YAAD,CAAA,EADF;;EAHM;;EAOR,YAAc,CAAA,CAAA;IACZ,IAAG,CAAC,IAAC,CAAA,MAAL;MACE,MAAM,CAAC,qBAAP,CAA6B,IAAC,CAAA,cAA9B;aACA,IAAC,CAAA,MAAD,GAAU,KAFZ;;EADY;;EAKd,WAAa,CAAC,QAAD,CAAA;SAAb,CAAA,WACE,CAAM,QAAN;WACA,IAAC,CAAA,YAAD,CAAA;EAFW;;AAlBE;;AAsBjB,OAAO,CAAC,QAAR,GAAmB,IAAI,OAAJ,CAAA","sourcesContent":["BaseUpdater = require('parallelio').Spark.Updater\n\nmodule.exports = class Updater extends BaseUpdater\n  constructor: () ->\n    super()\n    @updateCallback = => @update()\n    @binded = false\n\n  update: ->\n    super()\n    @binded = false\n    if @callbacks.length > 0\n      @requestFrame()\n\n\n  requestFrame: () ->\n    if !@binded\n      window.requestAnimationFrame(@updateCallback)\n      @binded = true\n\n  addCallback: (callback)->\n    super(callback)\n    @requestFrame()\n\nUpdater.instance = new Updater()"]}